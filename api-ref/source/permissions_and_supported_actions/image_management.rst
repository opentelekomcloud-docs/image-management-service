:original_name: en-us_topic_0125866390.html

.. _en-us_topic_0125866390:

Image Management
================

+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Permission                                                     | API                                                                                                                                    | Action                                                                              | Dependencies                                                                        | IAM Project | Enterprise Project |
+================================================================+========================================================================================================================================+=====================================================================================+=====================================================================================+=============+====================+
| Querying Images                                                | GET /v2/cloudimages                                                                                                                    | ims:images:list                                                                     | ``-``                                                                               | Y           | Y                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Supported Image OSs                                   | GET /v1/cloudimages/os_version                                                                                                         | ims:images:list                                                                     | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Updating Image Information                                     | PATCH /v2/cloudimages/{image_id}                                                                                                       | -  ims:images:update                                                                | -  ims:serverImages:create (only for migration to enterprise projects)              | Y           | Y                  |
|                                                                |                                                                                                                                        | -  ims:serverImages:create (only for migration to enterprise projects)              |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    obs:bucket:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    obs:object:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    kms:``*``:\*                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:cloudServers:get                                                             |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:servers:get                                                                  |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:serverVolumes:use                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:cloudServers:list                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:serverVolumeAttachments:list                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:servers:list                                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    evs:volumes:\*                                                                   |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    bms:servers:list                                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    bms:servers:get                                                                  |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    bms:serverFlavors:get                                                            |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating an Image                                              | POST /v2/cloudimages/action                                                                                                            | ims:serverImages:create                                                             | obs:bucket:\*                                                                       | Y           | Y                  |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                | .. note::                                                                                                                              |                                                                                     | obs:object:\*                                                                       |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |    If you use an external image file to create an image, you must have Tenant Administrator permissions for OBS.                       |                                                                                     | kms:``*``:\*                                                                        |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:cloudServers:get                                                                |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:servers:get                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:serverVolumes:use                                                               |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:cloudServers:list                                                               |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:serverVolumeAttachments:list                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:servers:list                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | evs:volumes:\*                                                                      |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | bms:servers:list                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | bms:servers:get                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | bms:serverFlavors:get                                                               |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Importing an Image File Quickly                                | POST /v2/cloudimages/quickimport/action                                                                                                | -  ims:serverImages:create (required only for quickly importing system disk images) | -  ims:serverImages:create (required only for quickly importing system disk images) | Y           | Y                  |
|                                                                |                                                                                                                                        | -  ims:dataImages:create (required only for quickly importing data disk images)     |                                                                                     |             |                    |
|                                                                | .. note::                                                                                                                              |                                                                                     |    obs:bucket:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |    You must have Tenant Administrator permissions for OBS.                                                                             |                                                                                     |    obs:object:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    kms:``*``:\*                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:cloudServers:get                                                             |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:servers:get                                                                  |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:serverVolumes:use                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:cloudServers:list                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:serverVolumeAttachments:list                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:servers:list                                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    evs:volumes:\*                                                                   |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    bms:servers:list                                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    bms:servers:get                                                                  |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    bms:serverFlavors:get                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | -  ims:dataImages:create (required only for quickly importing data disk images)     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    obs:bucket:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    obs:object:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    kms:``*``:\*                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:cloudServers:get                                                             |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:servers:get                                                                  |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:serverVolumes:use                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:cloudServers:list                                                            |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:serverVolumeAttachments:list                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    ecs:servers:list                                                                 |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    evs:volumes:\*                                                                   |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating a Data Disk Image Using an External Image File        | POST /v1/cloudimages/dataimages/action                                                                                                 | ims:dataImages:create                                                               | obs:bucket:\*                                                                       | Y           | Y                  |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                | .. note::                                                                                                                              |                                                                                     | obs:object:\*                                                                       |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |    You must have Tenant Administrator permissions for OBS.                                                                             |                                                                                     | kms:``*``:\*                                                                        |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:cloudServers:get                                                                |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:servers:get                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:serverVolumes:use                                                               |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:cloudServers:list                                                               |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:serverVolumeAttachments:list                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:servers:list                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | evs:volumes:\*                                                                      |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating a Full-ECS Image                                      | POST /v1/cloudimages/wholeimages/action                                                                                                | ims:wholeImages:create                                                              | obs:bucket:\*                                                                       | Y           | Y                  |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                | .. note::                                                                                                                              |                                                                                     | obs:object:\*                                                                       |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |    You must have Administrator permissions for CSBS or Admin permissions for CBR.                                                      |                                                                                     | kms:``*``:\*                                                                        |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | cbr:``*``:\*                                                                        |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | CSBS:backup:\*                                                                      |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:cloudServers:get                                                                |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:servers:get                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:serverVolumes:use                                                               |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:cloudServers:list                                                               |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:serverVolumeAttachments:list                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | ecs:servers:list                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | evs:volumes:\*                                                                      |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Registering an Image                                           | PUT /v1/cloudimages/{image_id}/upload                                                                                                  | ims:images:upload                                                                   | ims:images:get                                                                      | Y           | Y                  |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                | .. note::                                                                                                                              |                                                                                     | ims:images:update                                                                   |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |    -  You must have Tenant Administrator permissions for OBS.                                                                          |                                                                                     | obs:bucket:\*                                                                       |             |                    |
|                                                                |    -  You have permission to use enterprise projects when you register an image only if you select the **default** enterprise project. |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | obs:object:\*                                                                       |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     | kms:``*``:\*                                                                        |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Exporting an Image                                             | POST /v1/cloudimages/{image_id}/file                                                                                                   | ims:images:export                                                                   | obs:bucket:\*                                                                       | Y           | Y                  |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                | .. note::                                                                                                                              |                                                                                     | obs:object:\*                                                                       |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |    You must have Tenant Administrator permissions for OBS.                                                                             |                                                                                     | kms:``*``:\*                                                                        |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Images (Native OpenStack API)                         | GET /v2/images                                                                                                                         | ims:images:list                                                                     | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Image Details (Native OpenStack API)                  | GET /v2/images/{image_id}                                                                                                              | ims:images:get                                                                      | ``-``                                                                               | Y           | Y                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Updating Image Information (Native OpenStack API)              | PATCH /v2/images/{image_id}                                                                                                            | ims:images:update                                                                   | ``-``                                                                               | Y           | Y                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Deleting an Image (Native OpenStack API)                       | DELETE /v2/images/{image_id}                                                                                                           | ims:images:delete                                                                   | ``-``                                                                               | Y           | Y                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating Image Metadata (Native OpenStack API)                 | POST /v2/images                                                                                                                        | ims:images:create                                                                   | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Uploading an Image (Native OpenStack API)                      | PUT /v2/images/{image_id}/file                                                                                                         | -  ims:images:get                                                                   | -  ims:images:upload                                                                | Y           | x                  |
|                                                                |                                                                                                                                        | -  ims:images:update                                                                |                                                                                     |             |                    |
|                                                                |                                                                                                                                        | -  ims:images:upload                                                                |    obs:bucket:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    obs:object:\*                                                                    |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |                                                                                     |             |                    |
|                                                                |                                                                                                                                        |                                                                                     |    kms:``*``:\*                                                                     |             |                    |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying the API Version (Native OpenStack API)                | GET /                                                                                                                                  | N/A                                                                                 | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Image Details (Native OpenStack API V1.1, Deprecated) | GET /v1.1/images/detail                                                                                                                | ims:images:list                                                                     | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Image Metadata (Native OpenStack API V1, Deprecated)  | HEAD /v1/images/{image_id}                                                                                                             | ims:images:get                                                                      | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Deleting an Image (Native OpenStack API V1.1, Deprecated)      | DELETE /v1.1/images/{image_id}                                                                                                         | ims:images:delete                                                                   | ``-``                                                                               | Y           | x                  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
