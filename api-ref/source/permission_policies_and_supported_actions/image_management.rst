:original_name: en-us_topic_0125866390.html

.. _en-us_topic_0125866390:

Image Management
================

+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Permission                                                                         | API                                                                                                                                                             | Action                                                                              | IAM Project | Enterprise Project |
+====================================================================================+=================================================================================================================================================================+=====================================================================================+=============+====================+
| Querying Images                                                                    | GET /v2/cloudimages                                                                                                                                             | ims:images:list                                                                     | Y           | Y                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Supported Image OSs                                                       | GET /v1/cloudimages/os_version                                                                                                                                  | ims:images:list                                                                     | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Updating Image Information                                                         | PATCH /v2/cloudimages/{image_id}                                                                                                                                | -  ims:images:update                                                                | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 | -  ims:serverImages:create (only for migration to enterprise projects)              |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating an Image                                                                  | POST /v2/cloudimages/action                                                                                                                                     | ims:serverImages:create                                                             | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    | .. note::                                                                                                                                                       |                                                                                     |             |                    |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    |    Before creating an image using an external image file, ensure that you have the Tenant Administrator permission for OBS.                                     |                                                                                     |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Importing an Image File Quickly                                                    | POST /v2/cloudimages/quickimport/action                                                                                                                         | -  ims:serverImages:create (required only for quickly importing system disk images) | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 | -  ims:dataImages:create (required only for quickly importing data disk images)     |             |                    |
|                                                                                    | .. note::                                                                                                                                                       |                                                                                     |             |                    |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    |    Before quickly importing an image file, ensure that you have the Tenant Administrator permission for OBS.                                                    |                                                                                     |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating a Data Disk Image Using an External Image File                            | POST /v1/cloudimages/dataimages/action                                                                                                                          | ims:dataImages:create                                                               | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    | .. note::                                                                                                                                                       |                                                                                     |             |                    |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    |    Before using an external image file, ensure that you have the Tenant Administrator permission for OBS.                                                       |                                                                                     |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating a Full-ECS Image                                                          | POST /v1/cloudimages/wholeimages/action                                                                                                                         | ims:wholeImages:create                                                              | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    | .. note::                                                                                                                                                       |                                                                                     |             |                    |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    |    Before creating a full-ECS image, ensure that you have the CSBS Administrator permission of the CSBS service or the CBR Admin permission of the CBR service. |                                                                                     |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Registering an Image                                                               | PUT /v1/cloudimages/{image_id}/upload                                                                                                                           | ims:images:upload                                                                   | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    | .. note::                                                                                                                                                       |                                                                                     |             |                    |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    |    -  Before registering an image file, ensure that you have the Tenant Administrator permission for OBS.                                                       |                                                                                     |             |                    |
|                                                                                    |    -  You have the permissions to use enterprise projects when you register an image only if you select the **default** enterprise project.                     |                                                                                     |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Exporting an Image                                                                 | POST /v1/cloudimages/{image_id}/file                                                                                                                            | ims:images:export                                                                   | Y           | Y                  |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    | .. note::                                                                                                                                                       |                                                                                     |             |                    |
|                                                                                    |                                                                                                                                                                 |                                                                                     |             |                    |
|                                                                                    |    Before exporting an image, ensure that you have the Tenant Administrator permission for OBS.                                                                 |                                                                                     |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Images (Native OpenStack API)                                             | GET /v2/images                                                                                                                                                  | ims:images:list                                                                     | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Image Details (Native OpenStack API)                                      | GET /v2/images/{image_id}                                                                                                                                       | ims:images:get                                                                      | Y           | Y                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Updating Image Information (Native OpenStack API)                                  | PATCH /v2/images/{image_id}                                                                                                                                     | ims:images:update                                                                   | Y           | Y                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Deleting an Image (Native OpenStack API)                                           | DELETE /v2/images/{image_id}                                                                                                                                    | ims:images:delete                                                                   | Y           | Y                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Creating Image Metadata (Native OpenStack API)                                     | POST /v2/images                                                                                                                                                 | ims:images:create                                                                   | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Uploading an Image (Native OpenStack API)                                          | PUT /v2/images/{image_id}/file                                                                                                                                  | -  ims:images:get                                                                   | Y           | x                  |
|                                                                                    |                                                                                                                                                                 | -  ims:images:update                                                                |             |                    |
|                                                                                    |                                                                                                                                                                 | -  ims:images:upload                                                                |             |                    |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying the API Version (Native OpenStack API)                                    | GET /                                                                                                                                                           | N/A                                                                                 | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Image Details (Native OpenStack API v1.1 - Abandoned and Not Recommended) | GET /v1.1/images/detail                                                                                                                                         | ims:images:list                                                                     | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Querying Image Metadata (Native OpenStack API v1 - Abandoned and Not Recommended)  | HEAD /v1/images/{image_id}                                                                                                                                      | ims:images:get                                                                      | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
| Deleting an Image (Native OpenStack API V1.1, Abandoned and Not Recommended)       | DELETE /v1.1/images/{image_id}                                                                                                                                  | ims:images:delete                                                                   | Y           | x                  |
+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+-------------+--------------------+
